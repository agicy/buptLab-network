# 实验六——综合网络实践

本实验为拓展实验，其内容为：使用**多厂商**（Cisco，H3C 和 Juniper）路由器进行网络配置，实现全连接物理网络上的逻辑网络划分。

## 组队要求

可以组成**规模较大**的团队，充分彰显团队协作能力。

## 实验步骤

1. 抵达配置现场，将**配置用** PC 连接到有线网络，配置为**配置网络**的 IPv4 地址和子网掩码，通过 `ping` 确证可以连接到配置服务器；
2. 打开机柜，根据分配设备的情况进行**接口编号**的确定，将设备厂家和设备接口编号写在文件 `config.json` 中；**必要时**应将连线进行重新整理，以确保接口编号正确无误；
3. 执行 `main.py`，生成相应配置命令 `output/configuration_<n>.txt`；
4. Telnet 连接到各设备，执行相应配置命令，完成配置；
5. 检验路由表的正确性；
6. 启动多台**测试用** PC，连接到同一有线网络，配置为**测试网络**的 IPv4 地址、子网掩码和默认网关，同时**调节防火墙设置**，使用 `ping` 或者 `iperf` 等工具对网络的通断和性能进行测试；
7. 整理并关闭所有 PC，按照实验室管理规定对机柜进行清理，**登记后有序离开**。

## 示例

上传的 `config.json` 文件内容为本组成员实际实验时所用的设备和接口编号，对应设备型号如下：

- **Router 1**：Juniper Networks J4350；
- **Router 2**：Cisco 2800；
- **Router 3**：H3C MSR50-40；
- **Router 4**：H3C MSR50-40。

在确保安全的情况下，为了方便接口的确定，可拔掉实验设备上所有 RJ45 接口上的线缆，并将其重新连接到路由器主板的两个 RJ45 接口上，以获取更加明确的接口编号和更快的连接速率。

## 注意事项

- 若路由器的接口未连接到另一路由的某个接口上，则接口将无法启动；
- 使用 Windows 系统的 PC 之间使用 `ping` 测试网络通断需要允许系统处理 ICMP Request，需要调节防火墙的相应设置，若时间紧迫可直接关闭防火墙；
- Telnet 会话未正常退出将会使得配置服务器无法正常释放连接，此时可以手动重启配置服务器。

## 网络拓扑和模拟验证

网络拓扑见 `network.pdf`，模拟验证见目录 `test`。
